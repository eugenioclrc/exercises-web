<html>
  <head>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" />


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.7.0/codemirror.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.7.0/theme/monokai.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.7.0/addon/lint/lint.min.css" />

    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.7.0/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.7.0/mode/javascript/javascript.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.7.0/keymap/sublime.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.7.0/addon/lint/javascript-lint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.7.0/addon/edit/matchbrackets.min.js"></script>

    <script src="https://ajax.aspnetcdn.com/ajax/jshint/r07/jshint.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown.js/0.5.0/markdown.min.js"></script>
    <!--<script src="./js/vendor/jailed/jailed.js"></script>-->
    <script src="//asvd.github.io/jailed/lib/jailed.js"></script>

    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/2.3.3/mocha.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/3.3.0/chai.js"></script>

    <script src="./js/sandbox.js"></script>
    <script src="./js/runcode.js"></script>

    <style>

</style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-4">

          <div>

<script>
$(function(){
  $("[role='tablist'] a").on('click', function(){
    $(this).closest('[role="tablist"]').find(".active").removeClass('active');
    $(this).closest('li').addClass('active');
    var _target = $(this).attr('href');
    $(_target).parent().find('.active').removeClass('active');
    $(_target).addClass('active');
    // :S :S por las moscas
    codeOutput.refresh();
  })
})
</script>

            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
              <li role="presentation" class="active"><a href="#home">REAME.md</a></li>
              <li role="presentation"><a href="#output" >Output</a></li>

            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
              <div role="tabpanel" class="tab-pane active" id="home">



<style>
.hljs {
    display: block;
    overflow-x: auto;
    padding: .5em;
    background: #002b36;
    color: #839496;
    -webkit-text-size-adjust: none
}
.hljs-comment,
.hljs-template_comment,
.diff .hljs-header,
.hljs-doctype,
.hljs-pi,
.lisp .hljs-string,
.hljs-javadoc {
    color: #586e75
}
.hljs-keyword,
.hljs-winutils,
.method,
.hljs-addition,
.css .hljs-tag,
.hljs-request,
.hljs-status,
.nginx .hljs-title {
    color: #859900
}
.hljs-number,
.hljs-command,
.hljs-string,
.hljs-tag .hljs-value,
.hljs-rules .hljs-value,
.hljs-phpdoc,
.hljs-dartdoc,
.tex .hljs-formula,
.hljs-regexp,
.hljs-hexcolor,
.hljs-link_url {
    color: #2aa198
}
.hljs-title,
.hljs-localvars,
.hljs-chunk,
.hljs-decorator,
.hljs-built_in,
.hljs-identifier,
.vhdl .hljs-literal,
.hljs-id,
.css .hljs-function {
    color: #268bd2
}
.hljs-attribute,
.hljs-variable,
.lisp .hljs-body,
.smalltalk .hljs-number,
.hljs-constant,
.hljs-class .hljs-title,
.hljs-parent,
.hljs-type,
.hljs-link_reference {
    color: #b58900
}
.hljs-preprocessor,
.hljs-preprocessor .hljs-keyword,
.hljs-pragma,
.hljs-shebang,
.hljs-symbol,
.hljs-symbol .hljs-string,
.diff .hljs-change,
.hljs-special,
.hljs-attr_selector,
.hljs-subst,
.hljs-cdata,
.css .hljs-pseudo,
.hljs-header {
    color: #cb4b16
}
.hljs-deletion,
.hljs-important {
    color: #dc322f
}
.hljs-link_label {
    color: #6c71c4
}
.tex .hljs-formula {
    background: #073642
}

</style>



                <p>Here is the basic usage of the file that you will be creating:</p>
<pre><code class="language-js"><span class="hljs-keyword">var</span> value = <span class="hljs-comment">// function() {} &lt;- this is the code you write;</span>

<span class="hljs-keyword">var</span> scalar = <span class="hljs-string">'foo'</span>;
<span class="hljs-keyword">var</span> fn = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">'bar'</span>; };
<span class="hljs-keyword">var</span> fnTwice = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> fn;
};
<span class="hljs-keyword">var</span> fnThrice = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> fnTwice;
};

<span class="hljs-keyword">var</span> whoa = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                  <span class="hljs-keyword">return</span> <span class="hljs-string">'hi'</span>;
                };
              };
            };
          };
        };
      };
    };
  };
};

value(scalar);   <span class="hljs-comment">// should be      'foo'</span>
value(fn);       <span class="hljs-comment">// should be      'bar'</span>
value(fnTwice);  <span class="hljs-comment">// should aslo be 'bar'</span>
value(fnThrice); <span class="hljs-comment">// should also be 'bar'</span>

value(whoa);     <span class="hljs-comment">// should be      'hi'</span>

</code></pre>
<button type="button" onclick="runUserCode()" class="btn btn-primary btn-large btn-block">
  <span class="glyphicon glyphicon-play"></span>
  Run tests (ctrl + enter)
</button>





              </div>
              <div role="tabpanel" class="tab-pane" id="output">
                <textarea id="codeOutput" rows="5"></textarea><br />
                <button type="button" onclick="runUserCode()" class="btn btn-primary btn-large btn-block">
                  <span class="glyphicon glyphicon-play"></span>
                  Run tests (ctrl + enter)
                </button>
                <div id="testSuite" class="container-fluid"></div>
              </div>

            </div>

          </div>


        </div>
        <div class="col-md-8">
          <textarea id="code"></textarea>
        </div>

      </div>
    </div>

    <script>

    var defaultCode=
    '/**\n' +
    ' * remember\n' +
    ' * var scalar = \'foo\';\n' +
    ' * var fn = function() { return \'bar\'; };\n' +
    ' * var fnTwice = function() {\n' +
    ' *   return fn;\n' +
    ' * };\n' +
    ' * var fnThrice = function() {\n' +
    ' *   return fnTwice;\n' +
    ' * };\n' +
    ' * \n' +
    ' * value(scalar);   // should be      \'foo\'\n' +
    ' * value(fn);       // should be      \'bar\'\n' +
    ' * value(fnTwice);  // should aslo be \'bar\'\n' +
    ' * value(fnThrice); // should also be \'bar\'\n' +
    ' * \n' +
    ' **/\n' +
    'function value (n) {\n'+
    '  return n;\n'+
    '}\n';

    var  testSalt = 0.5031980420462787 ; /* ?? */
    var tests = [
      "assert.equal(value(2), 2, 'message: It works on simple values');",
      "var __fn = function() { return 3; };" +
      "assert.equal(value(__fn), 3, 'message: It works on functions');"

    ];

    /*var tests = [[
    "describe('value', function() {",
    "  it('works on simple values', function() {",
      "assert.equal(value(2), 2);",
    "});",
    "it('works on functions', function() {",
    "var fn = function() { return 3; };",
    "assert.equal(value(fn), 3);",
    "});",
    "it('works on nested functions', function() {",
      "var fn = function() { return function() { return 4; }; };",
      "assert.equal(value(fn), 4);",
    "});",
    "it('works on nested functions WOW!', function() {",
      "var fn = function() { return function() { return function() { return 5; }; }; };",
      "assert.equal(value(fn), 5);",
    "});",
    "});"
    ].join(' ')];
    */




var readmeMD = markdown.toHTML("Here's the basic usage of the file that you'll be creating:\n\
\
```js\
var value = require('./') // <- this is the file you make;\
\
var scalar = 'foo';\
var fn = function() { return 'bar'; };\
var fnTwice = function() {\
  return fn;\
};\
var fnThrice = function() {\
  return fnTwice;\
};\
\
var whoa = function() {\
  return function() {\
    return function() {\
      return function() {\
        return function() {\
          return function() {\
            return function() {\
              return function() {\
                return function() {\
                  return 'hi';\
                };\
              };\
            };\
          };\
        };\
      };\
    };\
  };\
};\
\
value(scalar);   // should be      'foo'\
value(fn);       // should be      'bar'\
value(fnTwice);  // should aslo be 'bar'\
value(fnThrice); // should also be 'bar'\
\
value(whoa);     // should be      'hi'\
\
```\
");

    </script>

  </body>
</html>
